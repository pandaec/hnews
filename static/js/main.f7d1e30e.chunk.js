(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{34:function(e,t,a){e.exports=a(62)},39:function(e,t,a){},61:function(e,t,a){},62:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),s=a(30),r=a.n(s),l=(a(39),a(9)),o=a(6),i=a(10),m=a(11),p=a(14),u=a(12),h=a(15),d=a(13),f=a.n(d);var E=function(e){return c.a.createElement("div",{className:"post-item"},c.a.createElement("span",{className:"post-rank"},e.rank),c.a.createElement("div",{className:"post-content"},c.a.createElement("a",{href:e.data.url,target:"_blank",rel:"noopener noreferrer"},c.a.createElement("h3",null,e.data.title)),c.a.createElement("span",{className:"post-domain"},e.data.domain),c.a.createElement("div",{className:"post-info"},c.a.createElement("span",null,c.a.createElement("i",{className:"fa fa-user"}),e.data.user),c.a.createElement("span",null,c.a.createElement("i",{className:"fa fa-chevron-up"}),e.data.points),c.a.createElement(l.b,{to:"/post/".concat(e.data.id)},c.a.createElement("span",null,c.a.createElement("i",{className:"fa fa-comments"}),e.data.comments_count)),c.a.createElement("span",null,c.a.createElement("i",{className:"fa fa-hourglass-start"}),e.data.time_ago))))};var g=function(e){return c.a.createElement("div",{className:"paging"},c.a.createElement("i",{className:"fa fa-chevron-left",onClick:e.prevPage.bind(this)}),c.a.createElement("span",null," PAGE ",e.page," "),c.a.createElement("i",{className:"fa fa-chevron-right",onClick:e.nextPage.bind(this)}))},v=function(e){function t(e){var a;Object(i.a)(this,t),a=Object(p.a)(this,Object(u.a)(t).call(this,e)),document.title="HNews";var n=new URLSearchParams(e.location.search),c=null!==n.get("p")?parseInt(n.get("p")):1;return a.state={posts:[],page:Math.max(c,1)},a.fetchNewPage(),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"container"},c.a.createElement("ul",{className:"news-list"},this.state.posts.map(function(t,a){return c.a.createElement("li",null,c.a.createElement(E,{key:t.id,rank:30*(e.state.page-1)+a,data:t,history:e.props.history}))})),c.a.createElement(g,{page:this.state.page,nextPage:this.nextPage.bind(this),prevPage:this.prevPage.bind(this)}))}},{key:"componentWillReceiveProps",value:function(e){var t=new URLSearchParams(e.location.search),a=null!==t.get("p")?parseInt(t.get("p")):1;this.setState({posts:[],page:Math.max(a,1)},this.fetchNewPage)}},{key:"nextPage",value:function(){this.props.history.push("/?p=".concat(this.state.page+1))}},{key:"prevPage",value:function(){this.props.history.push("/?p=".concat(Math.max(this.state.page-1,1)))}},{key:"fetchNewPage",value:function(){var e=this;f.a.get("https://node-hnapi.herokuapp.com/news",{params:{page:this.state.page}}).then(function(t){200===t.status?(console.log(t.data),e.setState({posts:t.data})):console.error(t)}).catch(function(e){console.error(e)})}}]),t}(c.a.Component),b=a(33);var N=function e(t){var a=t.data;return c.a.createElement("div",{className:0===a.level?"top-comment":"comment"},c.a.createElement("div",{className:"comment-content"+(a.level>0?" ribbon-"+((a.level-1)%8+1):"")},c.a.createElement("p",null,c.a.createElement("span",null,c.a.createElement("i",{className:"fa fa-user"}),a.user)," - ",a.time_ago),c.a.createElement("span",{dangerouslySetInnerHTML:{__html:a.content}})),a.comments.map(function(t,a){return c.a.createElement(e,{key:t.id,data:t})}))},k=function(e){function t(e){var a;return Object(i.a)(this,t),a=Object(p.a)(this,Object(u.a)(t).call(this,e)),console.log(e),a.state={comments:[]},f.a.get("https://node-hnapi.herokuapp.com/item/".concat(a.props.match.params.id)).then(function(e){200===e.status?(console.log(e.data),a.setState(e.data),document.title=a.state.title):console.error(e)}).catch(function(e){console.error(e)}),a}return Object(h.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement(E,{data:Object(b.a)({},this.state,{isPostTitle:!0}),rank:"*"}),this.state.comments.map(function(e,t){return c.a.createElement(N,{key:e.id,data:e})}))}}]),t}(c.a.Component);a(61);var w=function(){return c.a.createElement(l.a,{basename:"/hnews"},c.a.createElement("div",null,c.a.createElement("nav",null,c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement(l.b,{to:"/"},"HNews"))))),c.a.createElement(o.a,{path:"/",exact:!0,component:v}),c.a.createElement(o.a,{path:"/post/:id",component:k}))};r.a.render(c.a.createElement(w,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.f7d1e30e.chunk.js.map